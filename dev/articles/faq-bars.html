<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>FAQ: Barplots • ggplot2</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="FAQ: Barplots">
<meta name="robots" content="noindex">
<script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-hide-below="1200" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="ggplot2.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script><script async src="https://widget.kapa.ai/kapa-widget.bundle.js" data-button-hide="true" data-modal-disclaimer="This is a custom LLM for answering questions about dplyr, tidyr, and ggplot2. Answers are based on the contents of the documentation. Rate the answers to let us know what you think!" data-modal-ask-ai-input-placeholder="Ask me a question about dplyr, tidyr, or ggplot2." data-modal-header-bg-color="#f9f9f9" data-modal-override-open-class="open-kapa-widget" data-project-color="#365a7a" data-project-name="ggplot2" data-modal-title="tidyverse AI ✨" data-project-logo="https://avatars.githubusercontent.com/u/22032646?s=200&amp;u=235532df5cf8543246812f73db051b793f868807&amp;v=4" data-user-analytics-fingerprint-enabled="true" data-bot-protection-mechanism="hcaptcha" data-website-id="5dcac24a-bd5a-4874-9f5b-3341afddd8c3"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggplot2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">4.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/ggplot2.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/">Version 4.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0/">Version 3.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/11/ggplot2-3-4-0/">Version 3.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/03/ggplot2-3-3-0/">Version 3.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/ggplot2-3-2-0/">Version 3.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/ggplot2-3-1-0/">Version 3.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/07/ggplot2-3-0-0/">Version 3.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-2-0/">Version 2.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-1-0/">Version 2.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-0-0/">Version 2.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-updates/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/ggplot2-specs.html">Aesthetic specifications</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer</h6></li>
    <li><a class="dropdown-item" href="../articles/extending-ggplot2.html">Extending ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/ggplot2-in-packages.html">Using ggplot2 in packages</a></li>
    <li><a class="dropdown-item" href="../articles/profiling.html">Profiling Performance</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>FAQ</h6></li>
    <li><a class="dropdown-item" href="../articles/faq-axes.html">FAQ: Axes</a></li>
    <li><a class="dropdown-item" href="../articles/faq-faceting.html">FAQ: Faceting</a></li>
    <li><a class="dropdown-item" href="../articles/faq-customising.html">FAQ: Customising</a></li>
    <li><a class="dropdown-item" href="../articles/faq-annotation.html">FAQ: Annotation</a></li>
    <li><a class="dropdown-item" href="../articles/faq-reordering.html">FAQ: Reordering</a></li>
    <li><a class="dropdown-item" href="../articles/faq-bars.html">FAQ: Barplots</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://exts.ggplot2.tidyverse.org/gallery/" aria-label="Extensions"><span class="fa fa-puzzle-piece"></span></a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ggplot2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link open-kapa-widget" href="../#">Ask AI ✨</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>FAQ: Barplots</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/ggplot2/blob/main/vignettes/articles/faq-bars.Rmd" class="external-link"><code>vignettes/articles/faq-bars.Rmd</code></a></small>
      <div class="d-none name"><code>faq-bars.Rmd</code></div>
    </div>

    
    
<style>
  .content h3 {
    margin-top: -30px !important;
  }
  
  details {
    margin-bottom: 40px;
  }
</style>
<div class="section level2">
<h2 id="colors">Colors<a class="anchor" aria-label="anchor" href="#colors"></a>
</h2>
<div class="section level3">
<h3 id="how-can-i-change-the-color-of-the-bars-in-my-bar-plot">How can I change the color of the bars in my bar plot?<a class="anchor" aria-label="anchor" href="#how-can-i-change-the-color-of-the-bars-in-my-bar-plot"></a>
</h3>
<p>If using the same color for all bars, define the <code>fill</code>
argument in <code><a href="../reference/geom_bar.html">geom_bar()</a></code> (or <code><a href="../reference/geom_bar.html">geom_col()</a></code>). If
assigning color based on another variable, map the variable to the
<code>fill</code> <code>aes</code>thetic, and if needed, use one of the
<code>scale_fill_*()</code> functions to set colors.</p>
<details><summary>
See example
</summary><p>You can set all bars to be a given color with the <code>fill</code>
argument of <code><a href="../reference/geom_bar.html">geom_bar()</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-2-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. All bars are blue." width="80%"></p>
<p>Alternatively, if the colors should be based on a variable, this
should be should happen in the <code><a href="../reference/aes.html">aes()</a></code> mapping.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span>, fill <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-3-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. From left-to-right, the bars appear red, green and blue." width="80%"></p>
<p>And if you want to then customize the colors, one option is
<code><a href="../reference/scale_manual.html">scale_fill_manual()</a></code>, which allows you to manually assign
colors to each bar. See other <code>scale_fill_*()</code> functions for
more options for color choices.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span>, fill <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"purple"</span>, <span class="st">"orange"</span>, <span class="st">"darkblue"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-4-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. From left-to-right, the bars are purple, orange and dark blue." width="80%"></p>
</details>
</div>
</div>
<div class="section level2">
<h2 id="spacing-and-widths">Spacing and widths<a class="anchor" aria-label="anchor" href="#spacing-and-widths"></a>
</h2>
<div class="section level3">
<h3 id="how-can-i-increase-the-space-between-the-bars-in-my-bar-plot">How can I increase the space between the bars in my bar plot?<a class="anchor" aria-label="anchor" href="#how-can-i-increase-the-space-between-the-bars-in-my-bar-plot"></a>
</h3>
<p>Set the <code>width</code> of <code><a href="../reference/geom_bar.html">geom_bar()</a></code> to a small
value to obtain narrower bars with more space between them.</p>
<details><summary>
See example
</summary><p>By default, the <code>width</code> of bars is <code>0.9</code> (90%
of the resolution of the data). You can set this argument to a lower
value to get bars that are narrower with more space between them.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-5-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. The bars are somewhat narrower than the default." width="80%"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-5-2.png" alt="A bar chart showing the number of cars for each of three types of drive train. The bars are very narrow." width="80%"></p>
</details>
</div>
<div class="section level3">
<h3 id="how-can-i-remove-the-space-between-the-bars-and-the-x-axis">How can I remove the space between the bars and the x-axis?<a class="anchor" aria-label="anchor" href="#how-can-i-remove-the-space-between-the-bars-and-the-x-axis"></a>
</h3>
<p>Adjust the <code>expand</code> argument in
<code><a href="../reference/scale_continuous.html">scale_y_continuous()</a></code>, e.g. add
<code>scale_y_continuous(expand = expansion(mult = c(0, 0.05)))</code>
to remove the expansion on the lower end of the y-axis but keep the
expansion on the upper end of the y-axis at 0.05 (the default expansion
for continuous scales).</p>
<details><summary>
See example
</summary><p>By default ggplot2 expands the axes so the geoms aren’t flush against
the edges of the plot.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-6-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. No parts of the bars touch the panel edges." width="80%"></p>
<p>To remove the spacing between the bars and the x-axis, but keep the
spacing between the bars and the top of the plot, use the following.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="../reference/expansion.html">expansion</a></span><span class="op">(</span>mult <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.05</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-7-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. The bottom of the bars touch the x-axis." width="80%"></p>
<p>To achieve the opposite, switch the values in <code>mult</code>. Note
that the tallest bar is now flush against top of the plot.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="../reference/expansion.html">expansion</a></span><span class="op">(</span>mult <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-8-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. The top of the highest bar touches the top of the panel." width="80%"></p>
<p>To adjust spacing around the x-axis, adjust the <code>expand</code>
argument in <code><a href="../reference/scale_discrete.html">scale_x_discrete()</a></code>. Note that this places the
bars flush against the left side and leaves some space on the right
side.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="../reference/expansion.html">expansion</a></span><span class="op">(</span>add <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.6</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-9-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. The left of the leftmost bar touches the y-axis." width="80%"></p>
<p>The default look of a bar plot can be achieved with the
following.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="../reference/expansion.html">expansion</a></span><span class="op">(</span>add <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="../reference/expansion.html">expansion</a></span><span class="op">(</span>mult <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-10-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. No parts of the bars touch the panel edges." width="80%"></p>
</details>
</div>
<div class="section level3">
<h3 id="how-do-i-ensure-that-bars-on-a-dodged-bar-plot-have-the-same-width">How do I ensure that bars on a dodged bar plot have the same
width?<a class="anchor" aria-label="anchor" href="#how-do-i-ensure-that-bars-on-a-dodged-bar-plot-have-the-same-width"></a>
</h3>
<p>Set <code>position = position_dodge2(preserve = "single")</code> in
<code><a href="../reference/geom_bar.html">geom_bar()</a></code>.</p>
<details><summary>
See example
</summary><p>In the following plot the bars have differing widths within each
level of <code>drv</code> as there are differing levels of
<code>class</code> represented.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span>, fill <span class="op">=</span> <span class="va">class</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-11-1.png" alt="A grouped bar chart showing car counts dodged and filled by 7 types of cars for each of three types of drive train. The left group has 5 narrower bars, the middle group has 4 bars and the right group has 3 wider bars." width="80%"></p>
<p>You can use <code><a href="../reference/position_dodge.html">position_dodge2()</a></code> with
<code>preserve = "single"</code> to address this.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span>, fill <span class="op">=</span> <span class="va">class</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="../reference/position_dodge.html">position_dodge2</a></span><span class="op">(</span>preserve <span class="op">=</span> <span class="st">"single"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-12-1.png" alt="A grouped bar chart showing car counts dodged and filled by 7 types of cars for each of three types of drive train. From left-to-right, each groups has respectively 5, 4 and 3 equally wide bars." width="80%"></p>
</details>
</div>
</div>
<div class="section level2">
<h2 id="stacked-bar-plots">Stacked bar plots<a class="anchor" aria-label="anchor" href="#stacked-bar-plots"></a>
</h2>
<div class="section level3">
<h3 id="how-can-i-create-a-stacked-bar-plot-displaying-a-conditional-distribution-where-each-stack-is-scaled-to-sum-to-100">How can I create a stacked bar plot displaying a conditional
distribution where each stack is scaled to sum to 100%?<a class="anchor" aria-label="anchor" href="#how-can-i-create-a-stacked-bar-plot-displaying-a-conditional-distribution-where-each-stack-is-scaled-to-sum-to-100"></a>
</h3>
<p>Use <code>position = "fill"</code> in <code><a href="../reference/geom_bar.html">geom_bar()</a></code> or
<code><a href="../reference/geom_bar.html">geom_col()</a></code>. If you also want to show percentages on the
axis, use <code><a href="https://scales.r-lib.org/reference/label_percent.html" class="external-link">scales::label_percent()</a></code>.</p>
<details><summary>
See example
</summary><p>The following plot is useful for comparing counts but not as useful
for comparing proportions, which is what you need if you want to be able
to make statements like “in this sample, it’s more likely to have a
two-seater car that has rear-wheel drive than an SUV that has rear-wheel
drive”.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">class</span>, fill <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-13-1.png" alt="A horizontal stacked bar chart showing car counts for 7 types of cars, stacked and filled by 3 types of drive train." width="80%"></p>
<p><code>position = "fill"</code> will generate a bar plot with bars of
equal length and the stacks in each bar will show the proportion of
<code>drv</code> for that particular <code>class</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">class</span>, fill <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-14-1.png" alt="A horizontal filled bar chart showing proportions of cars for 7 types of cars. The fill colour represents 3 types of drive train. Every stacked bar spans the width of the panel." width="80%"></p>
<p>If you want to show percentages instead of proportions on the x-axis,
you can define this in <code><a href="../reference/scale_continuous.html">scale_x_continuous()</a></code> with
<code><a href="https://scales.r-lib.org/reference/label_percent.html" class="external-link">scales::label_percent()</a></code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">class</span>, fill <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"percentage"</span>, labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_percent.html" class="external-link">label_percent</a></span><span class="op">(</span>accuracy <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-15-1.png" alt="A horizontal filled bar chart showing percentages of cars for 7 types of cars. The fill colour represents 3 types of drive train. Every stacked bar spans the width of the panel." width="80%"></p>
</details>
</div>
<div class="section level3">
<h3 id="how-can-i-create-a-stacked-bar-plot-based-on-data-from-a-contingency-table-of-to-categorical-variables">How can I create a stacked bar plot based on data from a contingency
table of to categorical variables?<a class="anchor" aria-label="anchor" href="#how-can-i-create-a-stacked-bar-plot-based-on-data-from-a-contingency-table-of-to-categorical-variables"></a>
</h3>
<p>First reshape the data (e.g. with <code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">tidyr::pivot_longer()</a></code>)
so that there is one row per each combination of the levels of the
categorical variables, then use <code><a href="../reference/geom_bar.html">geom_col()</a></code> to draw the
bars.</p>
<details><summary>
See example
</summary><p>Suppose you have the following data from an opinion poll, where the
numbers in the cells represent the number of responses for each
party/opinion combination.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">poll</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">party</span>,       <span class="op">~</span><span class="va">agree</span>, <span class="op">~</span><span class="va">disagree</span>, <span class="op">~</span><span class="va">no_opinion</span>,</span>
<span>  <span class="st">"Democrat"</span>,    <span class="fl">20</span>,    <span class="fl">30</span>,        <span class="fl">20</span>,</span>
<span>  <span class="st">"Republican"</span>,  <span class="fl">15</span>,    <span class="fl">20</span>,        <span class="fl">10</span>,</span>
<span>  <span class="st">"Independent"</span>, <span class="fl">10</span>,    <span class="fl">5</span>,         <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You can first pivot the data longer to obtain a data frame with one
row per party/opinion combination and a new column, <code>n</code>, for
the number of responses that fall into that category.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">poll_longer</span> <span class="op">&lt;-</span> <span class="va">poll</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">pivot_longer</span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="op">-</span><span class="va">party</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"opinion"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"n"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">poll_longer</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 3</span></span></span>
<span><span class="co">#&gt;   party       opinion        n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Democrat    agree         20</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Democrat    disagree      30</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Democrat    no_opinion    20</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Republican  agree         15</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Republican  disagree      20</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Republican  no_opinion    10</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Independent agree         10</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Independent disagree       5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span> Independent no_opinion     0</span></span></code></pre></div>
<p>Then, you can pass this result to <code><a href="../reference/ggplot.html">ggplot()</a></code> and create a
bar for each <code>party</code> on the <code>y</code> (or
<code>x</code>, if you prefer vertical bars) axis and fill the bars in
with number of responses for each <code>opinion</code>.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">poll_longer</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">party</span>, fill <span class="op">=</span> <span class="va">opinion</span>, x <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-18-1.png" alt="A horizontal stacked bar chart showing opinion counts for 3 parties, stacked and filled by 3 types of opinions." width="80%"></p>
<p>To plot proportions (relative frequencies) instead of counts, use
<code>position = "fill"</code> in <code><a href="../reference/geom_bar.html">geom_col()</a></code>.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">poll_longer</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">party</span>, fill <span class="op">=</span> <span class="va">opinion</span>, x <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_col</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"proportion"</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-19-1.png" alt="A horizontal filled bar chart showing proportions of opinions for 3 parties. The fill colour represents 3 types of opinion. Every stacked bar spans the width of the panel." width="80%"></p>
</details>
</div>
<div class="section level3">
<h3 id="how-can-i-make-a-grouped-bar-plot">How can I make a grouped bar plot?<a class="anchor" aria-label="anchor" href="#how-can-i-make-a-grouped-bar-plot"></a>
</h3>
<p>Map the variable you want to group by to the <code>x</code> or
<code>y</code> <code>aes</code>thetic, map the variable you want to
color the vars by to the <code>fill</code> aesthetic, and set
<code>position = "dodge"</code> in <code><a href="../reference/geom_bar.html">geom_bar()</a></code>.</p>
<details><summary>
See example
</summary><p>Suppose you have data from a survey with three questions, where
respondents select “Agree” or “Disagree” for each question.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">survey</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">respondent</span>, <span class="op">~</span><span class="va">q1</span>,        <span class="op">~</span><span class="va">q2</span>,        <span class="op">~</span><span class="va">q3</span>,</span>
<span>  <span class="fl">1</span>,           <span class="st">"Agree"</span>,    <span class="st">"Agree"</span>,    <span class="st">"Disagree"</span>,</span>
<span>  <span class="fl">2</span>,           <span class="st">"Disagree"</span>, <span class="st">"Agree"</span>,    <span class="st">"Disagree"</span>,</span>
<span>  <span class="fl">3</span>,           <span class="st">"Agree"</span>,    <span class="st">"Agree"</span>,    <span class="st">"Disagree"</span>,</span>
<span>  <span class="fl">4</span>,           <span class="st">"Disagree"</span>, <span class="st">"Disagree"</span>, <span class="st">"Agree"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You’ll first want to reshape these data so that each row represents a
respondent / question pair. You can do this with
<code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">tidyr::pivot_longer()</a></code>. Then, pass the resulting longer data
frame to <code><a href="../reference/ggplot.html">ggplot()</a></code> group responses for each question
together.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">survey</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    cols <span class="op">=</span> <span class="op">-</span><span class="va">respondent</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"question"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"response"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">question</span>, fill <span class="op">=</span> <span class="va">response</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-21-1.png" alt="A grouped bar chart showing the number of responses to three questions. Within each question, two bars denote an 'Agree' or 'Disagree' response." width="80%"></p>
</details>
</div>
<div class="section level3">
<h3 id="how-can-i-make-a-bar-plot-of-group-means">How can I make a bar plot of group means?<a class="anchor" aria-label="anchor" href="#how-can-i-make-a-bar-plot-of-group-means"></a>
</h3>
<p>Either calculate the group means first and use
<code><a href="../reference/geom_bar.html">geom_col()</a></code> to draw the bars or let ggplot2 calculate the
means with <code><a href="../reference/stat_summary.html">stat_summary()</a></code> with <code>fun = "mean"</code>
and <code>geom = "bar"</code>.</p>
<details><summary>
See example
</summary><p>One option for calculating group means is using
<code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by()</a></code> followed by
<code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">dplyr::summarise()</a></code>. Then, you can pass the resulting data
frame to <code><a href="../reference/ggplot.html">ggplot()</a></code> and plot bars using
<code><a href="../reference/geom_bar.html">geom_col()</a></code>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mpg</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">drv</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mean_hwy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">hwy</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span>, y <span class="op">=</span> <span class="va">mean_hwy</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-22-1.png" alt="A bar chart showing the average highway miles per gallon for three types of drive train." width="80%"></p>
<p>Alternatively, you can use <code><a href="../reference/stat_summary.html">stat_summary()</a></code> to let ggplot2
calculate and plot the means.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span>, y <span class="op">=</span> <span class="va">hwy</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"mean"</span>, geom <span class="op">=</span> <span class="st">"bar"</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-23-1.png" alt="A bar chart showing the average highway miles per gallon for three types of drive train." width="80%"></p>
</details>
</div>
</div>
<div class="section level2">
<h2 id="axes-and-axis-limits">Axes and axis limits<a class="anchor" aria-label="anchor" href="#axes-and-axis-limits"></a>
</h2>
<div class="section level3">
<h3 id="why-do-the-bars-on-my-plot-disappear-when-i-specify-an-axis-range-with-ylim-how-can-i-get-the-bars-to-show-up-within-a-given-axis-range">Why do the bars on my plot disappear when I specify an axis range
with <code>ylim()</code>? How can I get the bars to show up within a
given axis range?<a class="anchor" aria-label="anchor" href="#why-do-the-bars-on-my-plot-disappear-when-i-specify-an-axis-range-with-ylim-how-can-i-get-the-bars-to-show-up-within-a-given-axis-range"></a>
</h3>
<p><code><a href="../reference/lims.html">ylim()</a></code> is a shortcut for supplying the
<code>limits</code> argument to individual scales. When either of these
is set, any values outside the limits specified are replaced with
<code>NA</code>. Since the bars naturally start at <code>y = 0</code>,
replacing part of the bars with <code>NA</code>s results in the bars
entirely disappearing from the plot. For changing axis limits without
dropping data observations, set limits in <code><a href="../reference/coord_cartesian.html">coord_cartesian()</a></code>
instead. Also note that this will result in a deceiving bar plot, which
should be avoided in general.</p>
<details><summary>
See example
</summary><p>In the following plot the y-axis is limited to 20 to 120, and hence
the bars are not showing up.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/lims.html">ylim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">120</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 3 rows containing missing values or values outside the scale</span></span>
<span><span class="co">#&gt; range (`geom_bar()`).</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-24-1.png" alt="A plot with axes and a panel, but no other geometry." width="80%"></p>
<p>In order to obtain a bar plot with limited y-axis, you need to
instead set the limits in <code><a href="../reference/coord_cartesian.html">coord_cartesian()</a></code>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">drv</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">110</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-25-1.png" alt="A bar chart showing the number of cars for each of three types of drive train. The y-axis starts at 20, and all bars touch the x-axis." width="80%"></p>
<p>This is, indeed, a deceiving plot. If you’re using a bar plot to
display values that could not take the value of 0, you might choose a
different geom instead. For example, if you have the following data and
plot.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">x</span>,  <span class="op">~</span><span class="va">y</span>,</span>
<span>  <span class="st">"A"</span>, <span class="fl">1050</span>,</span>
<span>  <span class="st">"B"</span>, <span class="fl">1100</span>,</span>
<span>  <span class="st">"C"</span>, <span class="fl">1150</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-26-1.png" alt="A bar chart showing numbers for 3 arbitrary categories. The numbers are far away from the x-axis and visually appear broadly similar in height." width="80%"></p>
<p>Also suppose that you want to cut off the bars at
<code>y = 1000</code> since you know that the variable you’re plotting
cannot take a value less than 1000, you might use
<code><a href="../reference/geom_point.html">geom_point()</a></code> instead.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># don't do this</span></span>
<span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/coord_cartesian.html">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">1150</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-27-1.png" alt="A bar chart showing numbers for 3 arbitrary categories. The y-axis starts at 1000 and the bars all look different in height. This is not a recommended way of plotting this data." width="80%"></p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># do this</span></span>
<span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p><img src="faq-bars_files/figure-html/unnamed-chunk-27-2.png" alt="A scatter plot with 3 points showing numbers for 3 arbitrary categories. The y-axis starts at 1000 and the points have visually different values. This is a better way of plotting this data." width="80%"></p>
</details>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/wch" class="external-link">Winston Chang</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>, Kohske Takahashi, <a href="https://clauswilke.com" class="external-link">Claus Wilke</a>, <a href="https://karawoo.com" class="external-link">Kara Woo</a>, <a href="https://yutani.rbind.io" class="external-link">Hiroaki Yutani</a>, <a href="https://fishandwhistle.net" class="external-link">Dewey Dunnington</a>, Teun van den Brand, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer>
</body>
</html>
