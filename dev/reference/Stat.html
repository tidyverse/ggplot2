<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Stats — Stat • ggplot2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Stats — Stat"><meta name="description" content="All stat_*() functions (like stat_bin()) return a layer that
contains a Stat* object (like StatBin). The Stat*
object is responsible for rendering the data in the plot."><meta property="og:description" content="All stat_*() functions (like stat_bin()) return a layer that
contains a Stat* object (like StatBin). The Stat*
object is responsible for rendering the data in the plot."><meta property="og:image" content="https://ggplot2.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-hide-below="1200" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="ggplot2.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script><script async src="https://widget.kapa.ai/kapa-widget.bundle.js" data-button-hide="true" data-modal-disclaimer="This is a custom LLM for answering questions about dplyr, tidyr, and ggplot2. Answers are based on the contents of the documentation. Rate the answers to let us know what you think!" data-modal-ask-ai-input-placeholder="Ask me a question about dplyr, tidyr, or ggplot2." data-modal-header-bg-color="#f9f9f9" data-modal-override-open-class="open-kapa-widget" data-project-color="#365a7a" data-project-name="ggplot2" data-modal-title="tidyverse AI ✨" data-project-logo="https://avatars.githubusercontent.com/u/22032646?s=200&amp;u=235532df5cf8543246812f73db051b793f868807&amp;v=4" data-user-analytics-fingerprint-enabled="true" data-bot-protection-mechanism="hcaptcha" data-website-id="5dcac24a-bd5a-4874-9f5b-3341afddd8c3"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggplot2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">4.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ggplot2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/">Version 4.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0/">Version 3.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/11/ggplot2-3-4-0/">Version 3.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/03/ggplot2-3-3-0/">Version 3.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/ggplot2-3-2-0/">Version 3.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/ggplot2-3-1-0/">Version 3.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/07/ggplot2-3-0-0/">Version 3.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-2-0/">Version 2.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-1-0/">Version 2.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-0-0/">Version 2.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-updates/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ggplot2-specs.html">Aesthetic specifications</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer</h6></li>
    <li><a class="dropdown-item" href="../articles/extending-ggplot2.html">Extending ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/ggplot2-in-packages.html">Using ggplot2 in packages</a></li>
    <li><a class="dropdown-item" href="../articles/profiling.html">Profiling Performance</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>FAQ</h6></li>
    <li><a class="dropdown-item" href="../articles/faq-axes.html">FAQ: Axes</a></li>
    <li><a class="dropdown-item" href="../articles/faq-faceting.html">FAQ: Faceting</a></li>
    <li><a class="dropdown-item" href="../articles/faq-customising.html">FAQ: Customising</a></li>
    <li><a class="dropdown-item" href="../articles/faq-annotation.html">FAQ: Annotation</a></li>
    <li><a class="dropdown-item" href="../articles/faq-reordering.html">FAQ: Reordering</a></li>
    <li><a class="dropdown-item" href="../articles/faq-bars.html">FAQ: Barplots</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://exts.ggplot2.tidyverse.org/gallery/" aria-label="Extensions"><span class="fa fa-puzzle-piece"></span></a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ggplot2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link open-kapa-widget" href="../#">Ask AI ✨</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Stats</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/ggplot2/blob/main/R/stat-.R" class="external-link"><code>R/stat-.R</code></a>, <a href="https://github.com/tidyverse/ggplot2/blob/main/R/stat-align.R" class="external-link"><code>R/stat-align.R</code></a>, <a href="https://github.com/tidyverse/ggplot2/blob/main/R/stat-bin.R" class="external-link"><code>R/stat-bin.R</code></a>, and 25 more</small>
      <div class="d-none name"><code>Stat.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>All <code>stat_*()</code> functions (like <code><a href="geom_histogram.html">stat_bin()</a></code>) return a layer that
contains a <code>Stat*</code> object (like <code>StatBin</code>). The <code>Stat*</code>
object is responsible for rendering the data in the plot.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Each of the <code>Stat*</code> objects is a <code><a href="ggproto.html">ggproto()</a></code> object, descended
from the top-level <code>Stat</code>, and each implements various methods and
fields. The object and its parameters are chaperoned by the <a href="Layer-class.html">Layer</a> class.</p>
<p>To create a new type of Stat object, you typically will want to
override one or more of the following:</p><ul><li><p>The <code>required_aes</code> and <code>default_aes</code> fields.</p></li>
<li><p>One of the <code>compute_layer()</code>, <code>compute_panel()</code> or <code>compute_group()</code>
functions. Typically it best to implement <code>compute_group()</code> and use the
higher-up methods when there are substantial performance improvements to
be gained.</p></li>
<li><p>The <code>finish_layer()</code> method</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="fields">Fields<a class="anchor" aria-label="anchor" href="#fields"></a></h2>


<dl><dt><code>required_aes</code></dt>
<dd><p>A character vector naming aesthetics that are necessary
to compute the stat.</p></dd>


<dt><code>non_missing_aes</code></dt>
<dd><p>A character vector naming aesthetics that will cause
removal if they have missing values.</p></dd>


<dt><code>optional_aes</code></dt>
<dd><p>A character vector naming aesthetics that will be
accepted by <code><a href="layer.html">layer()</a></code>, but are not required or dscribed in the <code>default_aes</code>
field.</p></dd>


<dt><code>default_aes</code></dt>
<dd><p>A <a href="aes.html">mapping</a> of default values for aesthetics.
Aesthetics can be set to <code>NULL</code> to be included as optional aesthetic.</p></dd>


<dt><code>dropped_aes</code></dt>
<dd><p>A character vector naming aesthetics that can be dropped
from the data without warning. Typically used for aesthetics that are
'consumed' during computation like <code>"weight"</code>.</p></dd>


<dt><code>extra_params</code></dt>
<dd><p>A character vector of parameter names in addition to
those imputed from the <code>compute_panel()</code> or <code>compute_groups()</code> methods.
This field can be set to include parameters for <code>setup_data()</code> methods.
By default, this only contains <code>"na.rm"</code>.</p></dd>


<dt><code>retransform</code></dt>
<dd><p>A scalar boolean: should the values produced by the
statistic also be transformed in the second pass when recently added
statistics are trained to the scales</p></dd>


<dt><code>setup_params</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method for modifying or checking the parameters based on the
data. The default method returns the parameters unaltered.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Stat</span><span class="op">$</span><span class="fu">setup_params</span><span class="op">(</span><span class="va">data</span>, <span class="va">params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>data</code></dt>
<dd><p>A data frame with the layer's data.</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of current parameters</p></dd>


</dl><p><strong>Value</strong></p>
<p>A list of parameters</p></dd>


<dt><code>setup_data</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method for modifying or checking the data. The default method
returns data unaltered.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Stat</span><span class="op">$</span><span class="fu">setup_data</span><span class="op">(</span><span class="va">data</span>, <span class="va">params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>data</code></dt>
<dd><p>A data frame with the layer's data.</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of parameters coming from the <code>setup_params()</code>
method</p></dd>


</dl><p><strong>Value</strong></p>
<p>A data frame with layer data</p></dd>


<dt><code>compute_layer</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method for orchestrating the computation of the statistic. The
default method splits the data and passes on computation tasks to the
panel-level <code>compute_panel()</code> method. In addition, the default method
handles missing values by removing rows that have missing values for the
aesthetics listed in the <code>required_aes</code> and <code>non_missing_aes</code> fields. It is
not recommended to use this method as an extension point.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Stat</span><span class="op">$</span><span class="fu">compute_layer</span><span class="op">(</span><span class="va">data</span>, <span class="va">params</span>, <span class="va">layout</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>data</code></dt>
<dd><p>A data frame with the layer's data.</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of parameters</p></dd>

<dt><code>layout</code></dt>
<dd><p>A pre-trained <code>&lt;Layout&gt;</code> ggproto object.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A data frame with computed data</p></dd>


<dt><code>compute_panel,compute_group</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method orchestrating the computation of statistics for a single
panel or group. The default <code>compute_panel()</code> method splits the data into
groups, and passes on computation tasks to the <code>compute_group()</code> method.
In addition, <code>compute_panel()</code> is tasked with preserving aesthetics that
are constant within a group and preserving these if the computation loses
them. The default <code>compute_group()</code> is not implemented.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Stat</span><span class="op">$</span><span class="fu">compute_panel</span><span class="op">(</span><span class="va">data</span>, <span class="va">scales</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="va">Stat</span><span class="op">$</span><span class="fu">compute_group</span><span class="op">(</span><span class="va">data</span>, <span class="va">scales</span>, <span class="va">...</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>data</code></dt>
<dd><p>A data frame with the layer's data.</p></dd>

<dt><code>scales</code></dt>
<dd><p>A list of pre-trained <code>x</code> and <code>y</code> scales. Note that the
position scales are not finalised at this point and reflect the initial
data range before computing stats.</p></dd>

<dt><code>...</code></dt>
<dd><p>Reserved for extensions. By default, this passes parameters
to the <code>compute_group()</code> method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A data frame with layer data</p></dd>


<dt><code>finish_layer</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method acting as a hook to modify data after scales have been
applied, but before geoms have to render. The default is to pass the data
unaltered. This can be used as an extension point when actual aesthetic
values rather than values mapped to the aesthetic are needed.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Stat</span><span class="op">$</span><span class="fu">finish_layer</span><span class="op">(</span><span class="va">data</span>, <span class="va">params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>data</code></dt>
<dd><p>A data frame with layer data</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of parameters</p></dd>


</dl><p><strong>Value</strong></p>
<p>A data frame with layer data</p></dd>


<dt><code>parameters</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method for listing out all acceptable parameters for this stat.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Stat</span><span class="op">$</span><span class="fu">parameters</span><span class="op">(</span><span class="va">extra</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>extra</code></dt>
<dd><p>A boolean: whether to include the <code>extra_params</code> field.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A character vector of parameter names.</p></dd>


<dt><code>aesthetics</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method for listing out all acceptable aesthetics for this stat.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Stat</span><span class="op">$</span><span class="fu">aesthetics</span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Value</strong></p>
<p>A character vector of aesthetic names.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="conventions">Conventions<a class="anchor" aria-label="anchor" href="#conventions"></a></h2>



<p>The object name that a new class is assigned to is typically the same as the
class name. Stat class names are in UpperCamelCase and start with the <code>Stat*</code>
prefix, like <code>StatNew</code>.</p>
<p>A constructor function is usually paired wih a Stat class. The constructor
wraps a call to <code><a href="layer.html">layer()</a></code>, where e.g. <code>layer(stat = StatNew)</code>. The
constructor function name is formatted by taking the Stat class name and
formatting it with snake_case, so that <code>StatNew</code> becomes <code>stat_new()</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>The <a href="https://ggplot2-book.org/extensions#sec-new-stats" class="external-link">new stats section</a> of the online ggplot2 book..</p>
<p>Run <code><a href="../articles/extending-ggplot2.html">vignette("extending-ggplot2")</a></code>, in particular the "Creating a
new stat" section.</p>
<p>Other Layer components:
<code><a href="Geom.html">Geom</a></code>,
<code><a href="Layer-class.html">Layer-class</a></code>,
<code><a href="Position.html">Position</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Extending the class</span></span></span>
<span class="r-in"><span><span class="va">StatKmeans</span> <span class="op">&lt;-</span> <span class="fu"><a href="ggproto.html">ggproto</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"StatKmeans"</span>, <span class="va">Stat</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Fields</span></span></span>
<span class="r-in"><span>  required_aes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># You can relate computed variables to aesthetics using `after_stat()`</span></span></span>
<span class="r-in"><span>  <span class="co"># in defaults</span></span></span>
<span class="r-in"><span>  default_aes <span class="op">=</span> <span class="fu"><a href="aes.html">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="fu"><a href="aes_eval.html">after_stat</a></span><span class="op">(</span><span class="va">cluster</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Methods</span></span></span>
<span class="r-in"><span>  compute_panel <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">scales</span>, <span class="va">k</span> <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">km</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">kmeans</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">y</span><span class="op">)</span><span class="op">)</span>, centers <span class="op">=</span> <span class="va">k</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">data</span><span class="op">$</span><span class="va">cluster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">km</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">data</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Building a constructor</span></span></span>
<span class="r-in"><span><span class="va">stat_kmeans</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">mapping</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">data</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">geom</span> <span class="op">=</span> <span class="st">"point"</span>,</span></span>
<span class="r-in"><span>                        <span class="va">position</span> <span class="op">=</span> <span class="st">"identity"</span>, <span class="va">...</span>, <span class="va">k</span> <span class="op">=</span> <span class="fl">2L</span>, <span class="va">na.rm</span> <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                        <span class="va">show.legend</span> <span class="op">=</span> <span class="cn">NA</span>, <span class="va">inherit.aes</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="layer.html">layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    mapping <span class="op">=</span> <span class="va">mapping</span>, data <span class="op">=</span> <span class="va">data</span>,</span></span>
<span class="r-in"><span>    geom <span class="op">=</span> <span class="va">geom</span>, stat <span class="op">=</span> <span class="va">StatKmeans</span>, position <span class="op">=</span> <span class="va">position</span>,</span></span>
<span class="r-in"><span>    show.legend <span class="op">=</span> <span class="va">show.legend</span>, inherit.aes <span class="op">=</span> <span class="va">inherit.aes</span>,</span></span>
<span class="r-in"><span>    params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="va">na.rm</span>, k <span class="op">=</span> <span class="va">k</span>, <span class="va">...</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use new stat in plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="aes.html">aes</a></span><span class="op">(</span><span class="va">displ</span>, <span class="va">hwy</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">stat_kmeans</span><span class="op">(</span>k <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="Stat-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/wch" class="external-link">Winston Chang</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>, Kohske Takahashi, <a href="https://clauswilke.com" class="external-link">Claus Wilke</a>, <a href="https://karawoo.com" class="external-link">Kara Woo</a>, <a href="https://yutani.rbind.io" class="external-link">Hiroaki Yutani</a>, <a href="https://fishandwhistle.net" class="external-link">Dewey Dunnington</a>, Teun van den Brand, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

