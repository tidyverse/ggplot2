<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Layer geometry display — layer_geoms • ggplot2</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Layer geometry display — layer_geoms"><meta name="description" content="In ggplot2, a plot in constructed by adding layers to it. A layer consists
of two important parts: the geometry (geoms), and statistical transformations
(stats). The 'geom' part of a layer is important because it determines the
looks of the data. Geoms determine how something is displayed, not what
is displayed."><meta property="og:description" content="In ggplot2, a plot in constructed by adding layers to it. A layer consists
of two important parts: the geometry (geoms), and statistical transformations
(stats). The 'geom' part of a layer is important because it determines the
looks of the data. Geoms determine how something is displayed, not what
is displayed."><meta property="og:image" content="https://ggplot2.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="ggplot2.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggplot2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">3.5.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ggplot2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0/">Version 3.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/11/ggplot2-3-4-0/">Version 3.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/03/ggplot2-3-3-0/">Version 3.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/ggplot2-3-2-0/">Version 3.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/ggplot2-3-1-0/">Version 3.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/07/ggplot2-3-0-0/">Version 3.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-2-0/">Version 2.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-1-0/">Version 2.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-0-0/">Version 2.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-updates/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ggplot2-specs.html">Aesthetic specifications</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer</h6></li>
    <li><a class="dropdown-item" href="../articles/extending-ggplot2.html">Extending ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/ggplot2-in-packages.html">Using ggplot2 in packages</a></li>
    <li><a class="dropdown-item" href="../articles/profiling.html">Profiling Performance</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>FAQ</h6></li>
    <li><a class="dropdown-item" href="../articles/faq-axes.html">FAQ: Axes</a></li>
    <li><a class="dropdown-item" href="../articles/faq-faceting.html">FAQ: Faceting</a></li>
    <li><a class="dropdown-item" href="../articles/faq-customising.html">FAQ: Customising</a></li>
    <li><a class="dropdown-item" href="../articles/faq-annotation.html">FAQ: Annotation</a></li>
    <li><a class="dropdown-item" href="../articles/faq-reordering.html">FAQ: Reordering</a></li>
    <li><a class="dropdown-item" href="../articles/faq-bars.html">FAQ: Barplots</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://exts.ggplot2.tidyverse.org/gallery/">Extensions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ggplot2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Layer geometry display</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/ggplot2/blob/main/R/docs_layer.R" class="external-link"><code>R/docs_layer.R</code></a></small>
      <div class="d-none name"><code>layer_geoms.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>In ggplot2, a plot in constructed by adding layers to it. A layer consists
of two important parts: the geometry (geoms), and statistical transformations
(stats). The 'geom' part of a layer is important because it determines the
looks of the data. Geoms determine <em>how</em> something is displayed, not <em>what</em>
is displayed.</p>
    </div>


    <div class="section level2">
    <h2 id="specifying-geoms">Specifying geoms<a class="anchor" aria-label="anchor" href="#specifying-geoms"></a></h2>
    <p>There are five ways in which the 'geom' part of a layer can be specified.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="co"># 1. The geom can have a layer constructor</span></span>
<span><span class="fu"><a href="../reference/geom_ribbon.html">geom_area</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. A stat can default to a particular geom</span></span>
<span><span class="fu"><a href="../reference/geom_density.html">stat_density</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># has `geom = "area"` as default</span></span>
<span></span>
<span><span class="co"># 3. It can be given to a stat as a string</span></span>
<span><span class="fu"><a href="../reference/geom_function.html">stat_function</a></span><span class="op">(</span>geom <span class="op">=</span> <span class="st">"area"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4. The ggproto object of a geom can be given</span></span>
<span><span class="fu"><a href="../reference/geom_histogram.html">stat_bin</a></span><span class="op">(</span>geom <span class="op">=</span> <span class="va">GeomArea</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 5. It can be given to `layer()` directly</span></span>
<span><span class="fu"><a href="../reference/layer.html">layer</a></span><span class="op">(</span></span>
<span>  geom <span class="op">=</span> <span class="st">"area"</span>,</span>
<span>  stat <span class="op">=</span> <span class="st">"smooth"</span>,</span>
<span>  position <span class="op">=</span> <span class="st">"identity"</span></span>
<span><span class="op">)</span></span></code></pre><p></p></div>
<p>Many of these ways are absolutely equivalent. Using
<code>stat_density(geom = "line")</code> is identical to using
<code>geom_line(stat = "density")</code>. Note that for <code><a href="layer.html">layer()</a></code>, you need to
provide the <code>"position"</code> argument as well. To give geoms as a string, take
the function name, and remove the <code>geom_</code> prefix, such that <code>geom_point</code>
becomes <code>"point"</code>.</p>
<p>Some of the more well known geoms that can be used for the <code>geom</code> argument
are: <code><a href="geom_point.html">"point"</a></code>, <code><a href="geom_path.html">"line"</a></code>,
<code><a href="geom_ribbon.html">"area"</a></code>, <code><a href="geom_bar.html">"bar"</a></code> and
<code><a href="geom_polygon.html">"polygon"</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="graphical-display">Graphical display<a class="anchor" aria-label="anchor" href="#graphical-display"></a></h2>
    <p>A ggplot is build on top of the grid package. This package
understands various graphical primitives, such as points, lines, rectangles
and polygons and their <a href="aes_position.html">positions</a>, as well as graphical
attributes, also termed aesthetics, such as
<a href="aes_colour_fill_alpha.html">colours, fills</a>,
<a href="aes_linetype_size_shape.html">linewidths and linetypes</a>. The job of the geom part
of a layer, is to translate data to grid graphics that can be plotted.</p>
<p>To see how aesthetics are specified, run <code><a href="../articles/ggplot2-specs.html">vignette("ggplot2-specs")</a></code>. To see
what geom uses what aesthetics, you can find the <strong>Aesthetics</strong> section in
their documentation, for example in <code><a href="geom_path.html">?geom_line</a></code>.</p>
<p>While almost anything can be represented by polygons if you try hard enough,
it is not always convenient to do so manually. For this reason, the geoms
provide abstractions that take most of this hassle away. <code><a href="geom_ribbon.html">geom_ribbon()</a></code>
for example is a special case of <code><a href="geom_polygon.html">geom_polygon()</a></code>, where two sets of
y-positions have a shared x-position. In turn, <code><a href="geom_ribbon.html">geom_area()</a></code> is a special
case of a ribbon, where one of the two sets of y-positions is set at 0.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="co"># A hassle to build a polygon</span></span>
<span><span class="va">my_polygon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">economics</span><span class="op">$</span><span class="va">date</span>,    <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">economics</span><span class="op">$</span><span class="va">date</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">economics</span><span class="op">$</span><span class="va">uempmed</span>, <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">economics</span><span class="op">$</span><span class="va">psavert</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">my_polygon</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_polygon.html">geom_polygon</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># More succinctly</span></span>
<span><span class="fu"><a href="../reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">economics</span>, <span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_ribbon.html">geom_ribbon</a></span><span class="op">(</span><span class="fu"><a href="../reference/aes.html">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">uempmed</span>, ymax <span class="op">=</span> <span class="va">psavert</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
<p>In addition to abstraction, geoms sometimes also perform composition.
A boxplot is a particular arrangement of lines, rectangles and points that
people have agreed upon is a summary of some data, which is performed by
<code><a href="geom_boxplot.html">geom_boxplot()</a></code>.</p>
<p></p><div class="sourceCode r"><pre><code>Boxplot data
value &lt;- fivenum(rnorm(100))
df &lt;- data.frame(
  min = value[1], lower = value[2], middle = value[3],
  upper = value[4], max = value[5]
)

# Drawing a boxplot manually
ggplot(df, aes(x = 1, xend = 1)) +
  geom_rect(
    aes(
      xmin = 0.55, xmax = 1.45,
      ymin = lower, ymax = upper
    ),
    colour = "black", fill = "white"
  ) +
  geom_segment(
    aes(
      x = 0.55, xend = 1.45,
      y = middle, yend = middle
    ),
    size = 1
  ) +
  geom_segment(aes(y = lower, yend = min)) +
  geom_segment(aes(y = upper, yend = max))

# More succinctly
ggplot(df, aes(x = 1)) +
  geom_boxplot(
    aes(ymin = min, ymax = max,
        lower = lower, upper = upper,
        middle = middle),
    stat = "identity"
  )
</code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="under-the-hood">Under the hood<a class="anchor" aria-label="anchor" href="#under-the-hood"></a></h2>
    <p>Internally, geoms are represented as <code><a href="ggproto.html">ggproto</a></code> classes that
occupy a slot in a layer. All these classes inherit from the parental
<code><a href="ggplot2-ggproto.html">Geom</a></code> ggproto object that orchestrates how geoms work. Briefly, geoms
are given the opportunity to draw the data of the layer as a whole,
a facet panel, or of individual groups. For more information on extending
geoms, see the <strong>Creating a new geom</strong> section after running
<code><a href="../articles/extending-ggplot2.html">vignette("extending-ggplot2")</a></code>. Additionally, see the <strong>New geoms</strong> section
of the <a href="https://ggplot2-book.org/extensions.html#new-geoms" class="external-link">online book</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>For an overview of all geom layers, see the
<a href="https://ggplot2.tidyverse.org/reference/index.html#geoms">online reference</a>.</p>
<p>Other layer documentation:
<code><a href="layer.html">layer</a>()</code>,
<code><a href="layer_positions.html">layer_positions</a></code>,
<code><a href="layer_stats.html">layer_stats</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/wch" class="external-link">Winston Chang</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>, Kohske Takahashi, <a href="https://clauswilke.com" class="external-link">Claus Wilke</a>, <a href="https://karawoo.com" class="external-link">Kara Woo</a>, <a href="https://yutani.rbind.io" class="external-link">Hiroaki Yutani</a>, <a href="https://fishandwhistle.net" class="external-link">Dewey Dunnington</a>, Teun van den Brand, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

