<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Bar charts — geom_bar • ggplot2</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">



<meta property="og:title" content="Bar charts — geom_bar" />

<meta property="og:description" content="There are two types of bar charts: geom_bar() and geom_col().
geom_bar() makes the height of the
bar proportional to the number of cases in each group (or if the
weight aesthetic is supplied, the sum of the weights). If you want the
heights of the bars to represent values in the data, use
geom_col() instead. geom_bar() uses stat_count() by
default: it counts the number of cases at each x position. geom_col()
uses stat_identity(): it leaves the data as is." />

<meta property="og:image" content="https://ggplot2.tidyverse.org/logo.png" />
<meta name="twitter:card" content="summary" />

<meta name="robots" content="noindex">

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- google analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-115082821-1');
</script>
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">ggplot2</a>
        <div class="info">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">3.1.1.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ggplot2-specs.html">Aesthetic specifications</a>
    </li>
    <li>
      <a href="../articles/extending-ggplot2.html">Extending ggplot2</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/10/ggplot2-3-1-0/">Version 3.1.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/07/ggplot2-3-0-0/">Version 3.0.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2016/11/14/ggplot2-2-2-0/">Version 2.2.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2016/03/03/ggplot2-2-1-0/">Version 2.1.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2015/12/21/ggplot2-2-0-0/">Version 2.0.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2015/01/09/ggplot2-updates/">Version 1.0.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/ggplot2">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bar charts</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/ggplot2/blob/master/R/geom-bar.r'><code>R/geom-bar.r</code></a>, <a href='https://github.com/tidyverse/ggplot2/blob/master/R/geom-col.r'><code>R/geom-col.r</code></a>, <a href='https://github.com/tidyverse/ggplot2/blob/master/R/stat-count.r'><code>R/stat-count.r</code></a></small>
    <div class="hidden name"><code>geom_bar.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>There are two types of bar charts: <code>geom_bar()</code> and <code>geom_col()</code>.
<code>geom_bar()</code> makes the height of the
bar proportional to the number of cases in each group (or if the
<code>weight</code> aesthetic is supplied, the sum of the weights). If you want the
heights of the bars to represent values in the data, use
<code>geom_col()</code> instead. <code>geom_bar()</code> uses <code>stat_count()</code> by
default: it counts the number of cases at each x position. <code>geom_col()</code>
uses <code><a href='stat_identity.html'>stat_identity()</a></code>: it leaves the data as is.</p>
    
    </div>

    <pre class="usage"><span class='fu'>geom_bar</span>(<span class='kw'>mapping</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>stat</span> <span class='kw'>=</span> <span class='st'>"count"</span>,
  <span class='kw'>position</span> <span class='kw'>=</span> <span class='st'>"stack"</span>, <span class='no'>...</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>binwidth</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>show.legend</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>inherit.aes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>geom_col</span>(<span class='kw'>mapping</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>position</span> <span class='kw'>=</span> <span class='st'>"stack"</span>, <span class='no'>...</span>,
  <span class='kw'>width</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>show.legend</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>inherit.aes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>stat_count</span>(<span class='kw'>mapping</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"bar"</span>,
  <span class='kw'>position</span> <span class='kw'>=</span> <span class='st'>"stack"</span>, <span class='no'>...</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>show.legend</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>inherit.aes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mapping</th>
      <td><p>Set of aesthetic mappings created by <code><a href='aes.html'>aes()</a></code> or
<code><a href='aes_.html'>aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>The data to be displayed in this layer. There are three
options:</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href='ggplot.html'>ggplot()</a></code>.</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href='fortify.html'>fortify()</a></code> for which variables will be created.</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data.</p></td>
    </tr>
    <tr>
      <th>position</th>
      <td><p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments passed on to <code><a href='layer.html'>layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>Bar width. By default, set to 90% of the resolution of the data.</p></td>
    </tr>
    <tr>
      <th>binwidth</th>
      <td><p><code>geom_bar()</code> no longer has a binwidth argument - if
you use it you'll get an warning telling to you use
<code><a href='geom_histogram.html'>geom_histogram()</a></code> instead.</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p></td>
    </tr>
    <tr>
      <th>show.legend</th>
      <td><p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p></td>
    </tr>
    <tr>
      <th>inherit.aes</th>
      <td><p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href='borders.html'>borders()</a></code>.</p></td>
    </tr>
    <tr>
      <th>geom, stat</th>
      <td><p>Override the default connection between <code>geom_bar()</code> and
<code>stat_count()</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A bar chart uses height to represent a value, and so the base of the
bar must always be shown to produce a valid visual comparison. This is why
it doesn't make sense to use a log-scaled y axis with a bar chart.</p>
<p>By default, multiple bars occupying the same <code>x</code> position will be stacked
atop one another by <code><a href='position_stack.html'>position_stack()</a></code>. If you want them to be dodged
side-to-side, use <code><a href='position_dodge.html'>position_dodge()</a></code> or <code><a href='position_dodge.html'>position_dodge2()</a></code>. Finally,
<code><a href='position_stack.html'>position_fill()</a></code> shows relative proportions at each <code>x</code> by stacking the bars
and then standardising each bar to have the same height.</p>
    
    <h2 class="hasAnchor" id="aesthetics"><a class="anchor" href="#aesthetics"></a>Aesthetics</h2>

    
    <p><code>geom_bar()</code> understands the following aesthetics (required aesthetics are in bold):</p><ul>
<li><p><strong><code>x</code></strong></p></li>
<li><p><strong><code>y</code></strong></p></li>
<li><p><code>alpha</code></p></li>
<li><p><code>colour</code></p></li>
<li><p><code>fill</code></p></li>
<li><p><code>group</code></p></li>
<li><p><code>linetype</code></p></li>
<li><p><code>size</code></p></li>
</ul><p>Learn more about setting these aesthetics in <code><a href='../articles/ggplot2-specs.html'>vignette("ggplot2-specs")</a></code>.</p>
    <p><code>geom_col()</code> understands the following aesthetics (required aesthetics are in bold):</p><ul>
<li><p><strong><code>x</code></strong></p></li>
<li><p><strong><code>y</code></strong></p></li>
<li><p><code>alpha</code></p></li>
<li><p><code>colour</code></p></li>
<li><p><code>fill</code></p></li>
<li><p><code>group</code></p></li>
<li><p><code>linetype</code></p></li>
<li><p><code>size</code></p></li>
</ul><p>Learn more about setting these aesthetics in <code><a href='../articles/ggplot2-specs.html'>vignette("ggplot2-specs")</a></code>.</p>
    <p><code>stat_count()</code> understands the following aesthetics (required aesthetics are in bold):</p><ul>
<li><p><strong><code>x</code></strong></p></li>
<li><p><code>group</code></p></li>
<li><p><code>weight</code></p></li>
<li><p><code>y</code></p></li>
</ul><p>Learn more about setting these aesthetics in <code><a href='../articles/ggplot2-specs.html'>vignette("ggplot2-specs")</a></code>.</p>
    
    <h2 class="hasAnchor" id="computed-variables"><a class="anchor" href="#computed-variables"></a>Computed variables</h2>

    
    <dl class='dl-horizontal'>
<dt>count</dt><dd><p>number of points in bin</p></dd>
<dt>prop</dt><dd><p>groupwise proportion</p></dd>
</dl>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='geom_histogram.html'>geom_histogram()</a></code> for continuous data,
<code><a href='position_dodge.html'>position_dodge()</a></code> and <code><a href='position_dodge.html'>position_dodge2()</a></code> for creating side-by-side
bar charts.</p>
<p><code><a href='geom_histogram.html'>stat_bin()</a></code>, which bins data in ranges and counts the
cases in each range. It differs from <code>stat_count</code>, which counts the
number of cases at each <code>x</code> position (without binning into ranges).
<code><a href='geom_histogram.html'>stat_bin()</a></code> requires continuous <code>x</code> data, whereas
<code>stat_count</code> can be used for both discrete and continuous <code>x</code> data.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># geom_bar is designed to make it easy to create bar charts that show</span>
<span class='co'># counts (or sums of weights)</span>
<span class='no'>g</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ggplot.html'>ggplot</a></span>(<span class='no'>mpg</span>, <span class='fu'><a href='aes.html'>aes</a></span>(<span class='no'>class</span>))
<span class='co'># Number of cars in each class:</span>
<span class='no'>g</span> + <span class='fu'>geom_bar</span>()</div><div class='img'><img src='geom_bar-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># Total engine displacement of each class</span>
<span class='no'>g</span> + <span class='fu'>geom_bar</span>(<span class='fu'><a href='aes.html'>aes</a></span>(<span class='kw'>weight</span> <span class='kw'>=</span> <span class='no'>displ</span>))</div><div class='img'><img src='geom_bar-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Bar charts are automatically stacked when multiple bars are placed</span>
<span class='co'># at the same location. The order of the fill is designed to match</span>
<span class='co'># the legend</span>
<span class='no'>g</span> + <span class='fu'>geom_bar</span>(<span class='fu'><a href='aes.html'>aes</a></span>(<span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>drv</span>))</div><div class='img'><img src='geom_bar-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># If you need to flip the order (because you've flipped the plot)</span>
<span class='co'># call position_stack() explicitly:</span>
<span class='no'>g</span> +
 <span class='fu'>geom_bar</span>(<span class='fu'><a href='aes.html'>aes</a></span>(<span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>drv</span>), <span class='kw'>position</span> <span class='kw'>=</span> <span class='fu'><a href='position_stack.html'>position_stack</a></span>(<span class='kw'>reverse</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)) +
 <span class='fu'><a href='coord_flip.html'>coord_flip</a></span>() +
 <span class='fu'><a href='theme.html'>theme</a></span>(<span class='kw'>legend.position</span> <span class='kw'>=</span> <span class='st'>"top"</span>)</div><div class='img'><img src='geom_bar-4.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># To show (e.g.) means, you need geom_col()</span>
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(<span class='kw'>trt</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"a"</span>, <span class='st'>"b"</span>, <span class='st'>"c"</span>), <span class='kw'>outcome</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2.3</span>, <span class='fl'>1.9</span>, <span class='fl'>3.2</span>))
<span class='fu'><a href='ggplot.html'>ggplot</a></span>(<span class='no'>df</span>, <span class='fu'><a href='aes.html'>aes</a></span>(<span class='no'>trt</span>, <span class='no'>outcome</span>)) +
  <span class='fu'>geom_col</span>()</div><div class='img'><img src='geom_bar-5.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># But geom_point() displays exactly the same information and doesn't</span>
<span class='co'># require the y-axis to touch zero.</span>
<span class='fu'><a href='ggplot.html'>ggplot</a></span>(<span class='no'>df</span>, <span class='fu'><a href='aes.html'>aes</a></span>(<span class='no'>trt</span>, <span class='no'>outcome</span>)) +
  <span class='fu'><a href='geom_point.html'>geom_point</a></span>()</div><div class='img'><img src='geom_bar-6.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># You can also use geom_bar() with continuous data, in which case</span>
<span class='co'># it will show counts at unique locations</span>
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2.9</span>, <span class='fl'>3.1</span>, <span class='fl'>4.5</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>4</span>)))
<span class='fu'><a href='ggplot.html'>ggplot</a></span>(<span class='no'>df</span>, <span class='fu'><a href='aes.html'>aes</a></span>(<span class='no'>x</span>)) + <span class='fu'>geom_bar</span>()</div><div class='img'><img src='geom_bar-7.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># cf. a histogram of the same data</span>
<span class='fu'><a href='ggplot.html'>ggplot</a></span>(<span class='no'>df</span>, <span class='fu'><a href='aes.html'>aes</a></span>(<span class='no'>x</span>)) + <span class='fu'><a href='geom_histogram.html'>geom_histogram</a></span>(<span class='kw'>binwidth</span> <span class='kw'>=</span> <span class='fl'>0.5</span>)</div><div class='img'><img src='geom_bar-8.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#aesthetics">Aesthetics</a></li>

      <li><a href="#computed-variables">Computed variables</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="tidyverse">
  <p>ggplot2 is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, Winston Chang, Lionel Henry, Thomas Lin Pedersen, Kohske Takahashi, Claus Wilke, Kara Woo, Hiroaki Yutani.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>
      </footer>
   </div>

  

  </body>
</html>

