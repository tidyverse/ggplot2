<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Coords — Coord • ggplot2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Coords — Coord"><meta name="description" content="All coord_*() functions (like coord_transform()) return a Coord* object
(like CoordTransform). These objects contain methods that support the
coordinate systems in ggplot2."><meta property="og:description" content="All coord_*() functions (like coord_transform()) return a Coord* object
(like CoordTransform). These objects contain methods that support the
coordinate systems in ggplot2."><meta property="og:image" content="https://ggplot2.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-hide-below="1200" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="ggplot2.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script><script async src="https://widget.kapa.ai/kapa-widget.bundle.js" data-button-hide="true" data-modal-disclaimer="This is a custom LLM for answering questions about dplyr, tidyr, and ggplot2. Answers are based on the contents of the documentation. Rate the answers to let us know what you think!" data-modal-ask-ai-input-placeholder="Ask me a question about dplyr, tidyr, or ggplot2." data-modal-header-bg-color="#f9f9f9" data-modal-override-open-class="open-kapa-widget" data-project-color="#365a7a" data-project-name="ggplot2" data-modal-title="tidyverse AI ✨" data-project-logo="https://avatars.githubusercontent.com/u/22032646?s=200&amp;u=235532df5cf8543246812f73db051b793f868807&amp;v=4" data-user-analytics-fingerprint-enabled="true" data-bot-protection-mechanism="hcaptcha" data-website-id="5dcac24a-bd5a-4874-9f5b-3341afddd8c3"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggplot2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">4.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ggplot2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2025/09/ggplot2-4-0-0/">Version 4.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0/">Version 3.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/11/ggplot2-3-4-0/">Version 3.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/03/ggplot2-3-3-0/">Version 3.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/ggplot2-3-2-0/">Version 3.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/ggplot2-3-1-0/">Version 3.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/07/ggplot2-3-0-0/">Version 3.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-2-0/">Version 2.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-1-0/">Version 2.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-0-0/">Version 2.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-updates/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ggplot2-specs.html">Aesthetic specifications</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer</h6></li>
    <li><a class="dropdown-item" href="../articles/extending-ggplot2.html">Extending ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/ggplot2-in-packages.html">Using ggplot2 in packages</a></li>
    <li><a class="dropdown-item" href="../articles/profiling.html">Profiling Performance</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>FAQ</h6></li>
    <li><a class="dropdown-item" href="../articles/faq-axes.html">FAQ: Axes</a></li>
    <li><a class="dropdown-item" href="../articles/faq-faceting.html">FAQ: Faceting</a></li>
    <li><a class="dropdown-item" href="../articles/faq-customising.html">FAQ: Customising</a></li>
    <li><a class="dropdown-item" href="../articles/faq-annotation.html">FAQ: Annotation</a></li>
    <li><a class="dropdown-item" href="../articles/faq-reordering.html">FAQ: Reordering</a></li>
    <li><a class="dropdown-item" href="../articles/faq-bars.html">FAQ: Barplots</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://exts.ggplot2.tidyverse.org/gallery/" aria-label="Extensions"><span class="fa fa-puzzle-piece"></span></a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ggplot2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link open-kapa-widget" href="../#">Ask AI ✨</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Coords</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/ggplot2/blob/main/R/coord-.R" class="external-link"><code>R/coord-.R</code></a>, <a href="https://github.com/tidyverse/ggplot2/blob/main/R/coord-cartesian-.R" class="external-link"><code>R/coord-cartesian-.R</code></a>, <a href="https://github.com/tidyverse/ggplot2/blob/main/R/coord-fixed.R" class="external-link"><code>R/coord-fixed.R</code></a>, and 6 more</small>
      <div class="d-none name"><code>Coord.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>All <code>coord_*()</code> functions (like <code><a href="coord_transform.html">coord_transform()</a></code>) return a <code>Coord*</code> object
(like <code>CoordTransform</code>). These objects contain methods that support the
coordinate systems in ggplot2.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Each of the <code>Coord*</code> objects is a <code><a href="ggproto.html">ggproto()</a></code> object, descended from the
top-level <code>Coord</code>, and each implements various methods and fields.
The object and its parameters are chaperoned by the <a href="Layout.html">Layout</a> class.</p>
<p>To create a new type of Coord object, it is recommended
to extend not the base <code>Coord</code> class, but one of its children like
<code>CoordCartesian</code>.</p>
<p>When overriding the <code><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform()</a></code> method, it may be necessary to adapt the
implementation of <code>render_bg()</code> and possibly axis placement too.</p>
<p>An important data structure that coordinate systems create is the
<code>panel_params</code> structure. When overriding that structure, many methods may
need to be adapted as well.</p>
    </div>
    <div class="section level2">
    <h2 id="fields">Fields<a class="anchor" aria-label="anchor" href="#fields"></a></h2>


<dl><dt><code>default</code></dt>
<dd><p>Scaler boolean indicating whether this is the default
coordinate system. Non-default coordinate systems raise a message when
a new system replaces it.</p></dd>


<dt><code>clip</code></dt>
<dd><p>A scalar string grid setting controlling whether layers should
be clipped to the extent of the plot panel extent. Can be <code>"on"</code> to
perform clipping, <code>"off"</code> to not clip, or <code>"inherit"</code> to take on the
setting of the parent viewport.</p></dd>


<dt><code>reverse</code></dt>
<dd><p>A scalar string giving which directions to reverse. For
Cartesian systems, can be <code>"none</code>, <code>"x"</code>, <code>"y"</code> or <code>"xy"</code> for both.
Non-Cartesian may define their own settings.</p></dd>


<dt><code>setup_params</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method for modifying or checking the parameters based on the
data. The default method parses the <code>expand</code> parameter.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">setup_params</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>data</code></dt>
<dd><p>A list of data frames. The first item is the global data,
which is followed by layer data in subsequent items.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A list of parameters</p></dd>


<dt><code>setup_data</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method for modifying or checking the data prior to adding
defaults. The default method returns data unaltered.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">setup_data</span><span class="op">(</span><span class="va">data</span>, <span class="va">params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>data</code></dt>
<dd><p>A list of data frames. The first item is the global data,
which is followed by layer data in subsequent items.</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of parameters coming from the <code>setup_params()</code>
method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A list of data frames of the same length as the <code>data</code> argument</p></dd>


<dt><code>setup_layout</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method that acts as a hook for the coordinate system to have
input on the layout computed by facets.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">setup_layout</span><span class="op">(</span><span class="va">layout</span>, <span class="va">params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>layout</code></dt>
<dd><p>A data frame computed by <code>Facet$compute_layout()</code>.
Typically contains the faceting variables, <code>ROW</code>, <code>COL</code>, <code>PANEL</code>,
<code>SCALE_X</code> and <code>SCALE_Y</code> variables.</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of parameters coming from the <code>setup_params()</code>
method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A data frame from the modified <code>layout</code> argument. The default creates a
new <code>COORD</code> column to identify unique combinations of x and y scales for
efficiency purposes. It should never remove columns.</p></dd>


<dt><code>modify_scales</code></dt>
<dd><p><strong>Description</strong></p>
<p>A function method for modifying scales in place. This is optional and
currently used by CoordFlip and CoordPolar to ensure axis positions are
conforming to the coordinate system.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">modify_scales</span><span class="op">(</span><span class="va">scales_x</span>, <span class="va">scales_y</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>scales_x</code>,<code>scales_y</code></dt>
<dd><p>A list of trained scales for the <code>x</code> and <code>y</code>
aesthetics respectively.</p></dd>


</dl><p><strong>Value</strong></p>
<p>Nothing, this is called for the side effect of modifying scales.</p></dd>


<dt><code>setup_panel_params</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to setup panel parameters per panel.
For efficiency reasons, this method is called once per combination of
<code>x</code> and <code>y</code> scales. It is used to instantiate ViewScale class objects and
ranges for position aesthetics and optionally append additional
parameters needed for the <code><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform()</a></code> method and rendering axes.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">setup_panel_params</span><span class="op">(</span><span class="va">scale_x</span>, <span class="va">scale_y</span>, <span class="va">params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>scale_x</code>,<code>scale_y</code></dt>
<dd><p>A list of trained scales for the <code>x</code> and <code>y</code>
aesthetics respectively.</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of parameters coming from the <code>setup_params()</code>
method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A named list of view scales, ranges and other optional parameters.</p></dd>


<dt><code>setup_panel_guides</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to initiate position guides for each panel.
For efficiency reasons, this method is called once per combination of <code>x</code>
and <code>y</code> scales. For the primary and secondary positions, it should resolve
guides coming from the <code>plot$guides</code> field and <code>Scale$guide</code> fields and
set appropriate <code>Guide$params$position</code> parameters.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">setup_panel_guides</span><span class="op">(</span><span class="va">panel_params</span>, <span class="va">guides</span>, <span class="va">params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method.</p></dd>

<dt><code>guides</code></dt>
<dd><p>A <code>&lt;Guides&gt;</code> ggproto class.</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of parameters coming from the <code>setup_params()</code>
method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>The <code>panel_params</code> object but with a Guides class object appended with
the name 'guides'.</p></dd>


<dt><code>setup_panel_guides</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to train and transform position guides for each
panel. For efficiency reasons, this method is called once per combination
of <code>x</code> and <code>y</code> scales.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">train_panel_guides</span><span class="op">(</span><span class="va">panel_params</span>, <span class="va">layers</span>, <span class="va">params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects, a Guides class
object and additional parameters from the <code>setup_panel_params()</code> method.</p></dd>

<dt><code>layers</code></dt>
<dd><p>A list of layers from <code>plot$layers</code>.</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of parameters coming from the <code>setup_params()</code>
method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>The <code>panel_params</code> object, but with trained and transformed <code>guides</code>
parameter.</p></dd>


<dt><code>transform</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to apply transformations and rescale position
aesthetics. This method is used in several places:</p><ul><li><p>The Geom drawing code, used through <code><a href="coord_munch.html">coord_munch()</a></code> in many Geoms.</p></li>
<li><p>The Guide transform method</p></li>
<li><p>Panel grid transformation in <code>render_bg()</code></p></li>
</ul><p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">transform</span><span class="op">(</span><span class="va">data</span>, <span class="va">panel_params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>data</code></dt>
<dd><p>A data frame with columns for numeric position aesthetics.</p></dd>

<dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>The <code>data</code> argument with rescaled and transformed position aesthetics.</p></dd>


<dt><code>distance</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to calculate distances between subsequent
data points. <code><a href="coord_munch.html">coord_munch()</a></code> uses this method determine how many points
should be used to interpolate.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">distance</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">panel_params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>x</code>,<code>y</code></dt>
<dd><p>x and y coordinates of a set of points in data space.</p></dd>

<dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>The <code>data</code> argument with rescaled and transformed position aesthetics.</p></dd>


<dt><code>backtransform_range</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to convert ranges from transformed coordinates
back into data coordinates. The data coordinates may possibly be scale-
transformed. It is used in <code><a href="coord_munch.html">coord_munch()</a></code> to ensure limits are in data
coordinates.</p>
<p>The back-transformation may be needed for coords such as <code><a href="coord_transform.html">coord_transform()</a></code>,
where the range in the transformed coordinates differs from the range in
the untransformed coordinates.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">backtransform_range</span><span class="op">(</span><span class="va">panel_params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A list containing numeric ranges for <code>x</code> and <code>y</code> in data coordinates.</p></dd>


<dt><code>range</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is a small helper method to extract ranges from the
<code>panel_params</code> object. It exists because <code>panel_params</code> can be opaque at
times.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">range</span><span class="op">(</span><span class="va">panel_params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A list containing numeric ranges for <code>x</code> and <code>y</code>.</p></dd>


<dt><code>draw_panel</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to orchestrate decorating panel drawings with
foreground and background drawings. It is called once per panel, invokes
the <code>render_fg()</code> and <code>render_bg()</code> methods and enforces the <code>clip</code> field.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">draw_panel</span><span class="op">(</span><span class="va">panel</span>, <span class="va">params</span>, <span class="va">theme</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>panel</code></dt>
<dd><p>A grob containing drawn layers and facet foreground and
background.</p></dd>

<dt><code>params</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method.</p></dd>

<dt><code>theme</code></dt>
<dd><p>A <a href="complete_theme.html">complete theme</a></p></dd>


</dl><p><strong>Value</strong></p>
<p>A grob with panel content.</p></dd>


<dt><code>render_fg</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to draw the panel foreground. For all
intents and purposes is just the <code>panel.border</code> theme element, but you can
repurpose this method.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">render_fg</span><span class="op">(</span><span class="va">panel_params</span>, <span class="va">theme</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method.</p></dd>

<dt><code>theme</code></dt>
<dd><p>A <a href="complete_theme.html">complete theme</a></p></dd>


</dl><p><strong>Value</strong></p>
<p>A grob with panel foreground.</p></dd>


<dt><code>render_bg</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to draw the panel background. Typically
this is a combination of the <code>panel.background</code> and <code>panel.grid</code> theme
elements.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">render_bg</span><span class="op">(</span><span class="va">panel_params</span>, <span class="va">theme</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method.</p></dd>

<dt><code>theme</code></dt>
<dd><p>A <a href="complete_theme.html">complete theme</a></p></dd>


</dl><p><strong>Value</strong></p>
<p>A grob with panel background.</p></dd>


<dt><code>labels</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to format axis titles. It is used in some
coordinate systems to (conditionally) swap x and y labels.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">labels</span><span class="op">(</span><span class="va">labels</span>, <span class="va">panel_params</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>labels</code></dt>
<dd><p>A named list containing an <code>x</code> list and a <code>y</code> list. The
<code>x</code> and <code>y</code> lists have <code>primary</code> and <code>secondary</code> labels.</p></dd>

<dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A list with the same structure and names as the <code>labels</code> argument.</p></dd>


<dt><code>aspect</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method that gives the aspect ratio for panels. It allows for
<code>CoordFixed</code> to compute an aspect ratio based on data ranges.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">render_bg</span><span class="op">(</span><span class="va">panel_params</span>, <span class="va">theme</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>ranges</code></dt>
<dd><p>A list of ViewScale class objects and additional
parameters from the <code>setup_panel_params()</code> method. If there are
multiple panels, the parameters for the first panel is used.</p></dd>


</dl><p><strong>Value</strong></p>
<p>A scalar numeric</p></dd>


<dt><code>render_axis_h,render_axis_v</code></dt>
<dd><p><strong>Description</strong></p>
<p>These function methods are used to render axes to place at the outside edge
of panels. Interior axes should not be rendered here. The <code>render_axis_h()</code>
methods produces the horizontal axes for the top and bottom position.
The <code>render_axis_v()</code> method renders the vertical axes for the left and
right position.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code>Coord$render_axis_h(panel_params, theme
Coord$render_axis_v(panel_params, theme)
</code></pre><p></p></div>
<p><strong>Arguments</strong></p><dl><dt><code>panel_params</code></dt>
<dd><p>A list of ViewScale class objects, a Guides class
object and additional parameters from the <code>setup_panel_params()</code> method.</p></dd>

<dt><code>theme</code></dt>
<dd><p>A <a href="complete_theme.html">complete theme</a></p></dd>


</dl><p><strong>Value</strong></p>
<p>For <code>render_axis_h()</code> a named list where <code>"top"</code> and <code>"bottom"</code> are grobs
with an axis. For <code>render_axis_v()</code> a named list where <code>"left"</code> and
<code>"right"</code> are grobs with an axis. These grobs should be <code><a href="zeroGrob.html">zeroGrob()</a></code>
when no axes should be rendered.</p></dd>


<dt><code>is_linear</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to signal whether a coordinate system is
linear. In <code><a href="coord_munch.html">coord_munch()</a></code> and several Geom drawing methods, it is used to
determine whether points should be interpolated.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">is_linear</span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Value</strong></p>
<p>A scalar boolean.</p></dd>


<dt><code>is_free</code></dt>
<dd><p><strong>Description</strong></p>
<p>This function method is used to signal whether a coordinate system supports
free scaling of axes in faceted plots. This should generally return <code>FALSE</code>
for coordinate systems that enforce a fixed aspect ratio.</p>
<p><strong>Usage</strong></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">Coord</span><span class="op">$</span><span class="fu">is_free</span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p><strong>Value</strong></p>
<p>A scalar boolean.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="conventions">Conventions<a class="anchor" aria-label="anchor" href="#conventions"></a></h2>



<p>The object name that a new class is assigned to is typically the same as the
class name. Coord class names are in UpperCamelCase and start with the
<code>Coord*</code> prefix, like <code>CoordNew</code>.</p>
<p>A constructor function is usually paired with a Coord class. The constructor
copies the coord class and populates parameters. The constructor function name
should take the Coord class name and be formatted with snake_case,
so that <code>CoordNew</code> becomes <code>coord_new()</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>The <a href="https://ggplot2-book.org/extensions#sec-new-coords" class="external-link">new coords section</a> of the online ggplot2 book.</p>
<p>Other Layout components:
<code><a href="Facet.html">Facet</a></code>,
<code><a href="Layout.html">Layout</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Extending the class</span></span></span>
<span class="r-in"><span><span class="va">CoordJitter</span> <span class="op">&lt;-</span> <span class="fu"><a href="ggproto.html">ggproto</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"CoordJitter"</span>, <span class="va">CoordCartesian</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Fields</span></span></span>
<span class="r-in"><span>  amount <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Methods</span></span></span>
<span class="r-in"><span>  is_linear <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  transform <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">self</span>, <span class="va">data</span>, <span class="va">panel_params</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">data</span>   <span class="op">&lt;-</span> <span class="fu"><a href="ggproto.html">ggproto_parent</a></span><span class="op">(</span><span class="va">CoordCartesian</span>, <span class="va">self</span><span class="op">)</span><span class="op">$</span><span class="fu">transform</span><span class="op">(</span><span class="va">data</span>, <span class="va">panel_params</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">data</span><span class="op">$</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/jitter.html" class="external-link">jitter</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x</span>, amount <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">amount</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">data</span><span class="op">$</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/jitter.html" class="external-link">jitter</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">y</span>, amount <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">amount</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">data</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Building a constructor</span></span></span>
<span class="r-in"><span><span class="va">coord_jitter</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">amount</span> <span class="op">=</span> <span class="fl">0.005</span>, <span class="va">xlim</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">ylim</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">expand</span> <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                         <span class="va">clip</span> <span class="op">=</span> <span class="st">"on"</span>, <span class="va">reverse</span> <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="ggproto.html">ggproto</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="cn">NULL</span>, <span class="va">CoordJitter</span>,</span></span>
<span class="r-in"><span>    amount <span class="op">=</span> <span class="va">amount</span>,</span></span>
<span class="r-in"><span>    limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">xlim</span>, y <span class="op">=</span> <span class="va">ylim</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    reverse <span class="op">=</span> <span class="va">reverse</span>, expand <span class="op">=</span> <span class="va">expand</span>, clip <span class="op">=</span> <span class="va">clip</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use new coord in plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu"><a href="aes.html">aes</a></span><span class="op">(</span><span class="va">drv</span>, <span class="va">displ</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">coord_jitter</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="Coord-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/wch" class="external-link">Winston Chang</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>, Kohske Takahashi, <a href="https://clauswilke.com" class="external-link">Claus Wilke</a>, <a href="https://karawoo.com" class="external-link">Kara Woo</a>, <a href="https://yutani.rbind.io" class="external-link">Hiroaki Yutani</a>, <a href="https://fishandwhistle.net" class="external-link">Dewey Dunnington</a>, Teun van den Brand, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

