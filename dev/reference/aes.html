<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Construct aesthetic mappings — aes • ggplot2</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct aesthetic mappings — aes"><meta name="description" content="Aesthetic mappings describe how variables in the data are mapped to visual
properties (aesthetics) of geoms. Aesthetic mappings can be set in
ggplot() and in individual layers."><meta property="og:description" content="Aesthetic mappings describe how variables in the data are mapped to visual
properties (aesthetics) of geoms. Aesthetic mappings can be set in
ggplot() and in individual layers."><meta property="og:image" content="https://ggplot2.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="ggplot2.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggplot2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">3.5.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ggplot2.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0/">Version 3.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/11/ggplot2-3-4-0/">Version 3.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/03/ggplot2-3-3-0/">Version 3.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/ggplot2-3-2-0/">Version 3.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/ggplot2-3-1-0/">Version 3.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/07/ggplot2-3-0-0/">Version 3.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-2-0/">Version 2.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-1-0/">Version 2.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-2-0-0/">Version 2.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/ggplot2-updates/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ggplot2-specs.html">Aesthetic specifications</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer</h6></li>
    <li><a class="dropdown-item" href="../articles/extending-ggplot2.html">Extending ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/ggplot2-in-packages.html">Using ggplot2 in packages</a></li>
    <li><a class="dropdown-item" href="../articles/profiling.html">Profiling Performance</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>FAQ</h6></li>
    <li><a class="dropdown-item" href="../articles/faq-axes.html">FAQ: Axes</a></li>
    <li><a class="dropdown-item" href="../articles/faq-faceting.html">FAQ: Faceting</a></li>
    <li><a class="dropdown-item" href="../articles/faq-customising.html">FAQ: Customising</a></li>
    <li><a class="dropdown-item" href="../articles/faq-annotation.html">FAQ: Annotation</a></li>
    <li><a class="dropdown-item" href="../articles/faq-reordering.html">FAQ: Reordering</a></li>
    <li><a class="dropdown-item" href="../articles/faq-bars.html">FAQ: Barplots</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://exts.ggplot2.tidyverse.org/gallery/">Extensions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ggplot2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Construct aesthetic mappings</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/ggplot2/blob/main/R/aes.R" class="external-link"><code>R/aes.R</code></a></small>
      <div class="d-none name"><code>aes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Aesthetic mappings describe how variables in the data are mapped to visual
properties (aesthetics) of geoms. Aesthetic mappings can be set in
<code><a href="ggplot.html">ggplot()</a></code> and in individual layers.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">aes</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x-y-">x, y, ...<a class="anchor" aria-label="anchor" href="#arg-x-y-"></a></dt>
<dd><p>&lt;<code><a href="https://rlang.r-lib.org/reference/topic-data-mask.html" class="external-link">data-masking</a></code>&gt; List of name-value
pairs in the form <code>aesthetic = variable</code> describing which variables in the
layer data should be mapped to which aesthetics used by the paired
geom/stat. The expression <code>variable</code> is evaluated within the layer data, so
there is no need to refer to the original dataset (i.e., use
<code>ggplot(df, aes(variable))</code> instead of <code>ggplot(df, aes(df$variable))</code>).
The names for x and y aesthetics are typically omitted because they are so
common; all other aesthetics must be named.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with class <code>uneval</code>. Components of the list are either
quosures or constants.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function also standardises aesthetic names by converting <code>color</code> to <code>colour</code>
(also in substrings, e.g., <code>point_color</code> to <code>point_colour</code>) and translating old style
R names to ggplot names (e.g., <code>pch</code> to <code>shape</code> and <code>cex</code> to <code>size</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="quasiquotation">Quasiquotation<a class="anchor" aria-label="anchor" href="#quasiquotation"></a></h2>



<p><code>aes()</code> is a <a href="https://rlang.r-lib.org/reference/topic-defuse.html" class="external-link">quoting function</a>. This means that
its inputs are quoted to be evaluated in the context of the
data. This makes it easy to work with variables from the data frame
because you can name those directly. The flip side is that you have
to use <a href="https://rlang.r-lib.org/reference/topic-inject.html" class="external-link">quasiquotation</a> to program with
<code>aes()</code>. See a tidy evaluation tutorial such as the <a href="https://dplyr.tidyverse.org/articles/programming.html" class="external-link">dplyr programming vignette</a>
to learn more about these techniques.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="vars.html">vars()</a></code> for another quoting function designed for
faceting specifications.</p>
<p>Run <code><a href="../articles/ggplot2-specs.html">vignette("ggplot2-specs")</a></code> to see an overview of other aesthetics
that can be modified.</p>
<p><a href="aes_eval.html">Delayed evaluation</a> for working with computed variables.</p>
<p>Other aesthetics documentation:
<code><a href="aes_colour_fill_alpha.html">aes_colour_fill_alpha</a></code>,
<code><a href="aes_group_order.html">aes_group_order</a></code>,
<code><a href="aes_linetype_size_shape.html">aes_linetype_size_shape</a></code>,
<code><a href="aes_position.html">aes_position</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">wt</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aesthetic mapping: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `x` -&gt; `mpg`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `y` -&gt; `wt`</span>
<span class="r-in"><span><span class="fu">aes</span><span class="op">(</span><span class="va">mpg</span>, <span class="va">wt</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aesthetic mapping: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `x` -&gt; `mpg`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `y` -&gt; `wt`</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can also map aesthetics to functions of variables</span></span></span>
<span class="r-in"><span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span> <span class="op">^</span> <span class="fl">2</span>, y <span class="op">=</span> <span class="va">wt</span> <span class="op">/</span> <span class="va">cyl</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aesthetic mapping: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `x` -&gt; `mpg^2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `y` -&gt; `wt/cyl`</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or to constants</span></span></span>
<span class="r-in"><span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span>, colour <span class="op">=</span> <span class="st">"smooth"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aesthetic mapping: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `x`      -&gt; 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `colour` -&gt; "smooth"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Aesthetic names are automatically standardised</span></span></span>
<span class="r-in"><span><span class="fu">aes</span><span class="op">(</span>col <span class="op">=</span> <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aesthetic mapping: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `colour` -&gt; `x`</span>
<span class="r-in"><span><span class="fu">aes</span><span class="op">(</span>fg <span class="op">=</span> <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aesthetic mapping: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `colour` -&gt; `x`</span>
<span class="r-in"><span><span class="fu">aes</span><span class="op">(</span>color <span class="op">=</span> <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aesthetic mapping: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `colour` -&gt; `x`</span>
<span class="r-in"><span><span class="fu">aes</span><span class="op">(</span>colour <span class="op">=</span> <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aesthetic mapping: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * `colour` -&gt; `x`</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># aes() is passed to either ggplot() or specific layer. Aesthetics supplied</span></span></span>
<span class="r-in"><span><span class="co"># to ggplot() are used as defaults for every layer.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">displ</span>, <span class="va">hwy</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="aes-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">displ</span>, <span class="va">hwy</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="aes-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Tidy evaluation ----------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># aes() automatically quotes all its arguments, so you need to use tidy</span></span></span>
<span class="r-in"><span><span class="co"># evaluation to create wrappers around ggplot2 pipelines. The</span></span></span>
<span class="r-in"><span><span class="co"># simplest case occurs when your wrapper takes dots:</span></span></span>
<span class="r-in"><span><span class="va">scatter_by</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">...</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="fu">scatter_by</span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">disp</span>, <span class="va">drat</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="aes-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If your wrapper has a more specific interface with named arguments,</span></span></span>
<span class="r-in"><span><span class="co"># you need the "embrace operator":</span></span></span>
<span class="r-in"><span><span class="va">scatter_by</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="op">{</span><span class="op">{</span> <span class="va">x</span> <span class="op">}</span><span class="op">}</span>, <span class="op">{</span><span class="op">{</span> <span class="va">y</span> <span class="op">}</span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="fu">scatter_by</span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">disp</span>, <span class="va">drat</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="aes-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Note that users of your wrapper can use their own functions in the</span></span></span>
<span class="r-in"><span><span class="co"># quoted expressions and all will resolve as it should!</span></span></span>
<span class="r-in"><span><span class="va">cut3</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="cut_interval.html">cut_number</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">scatter_by</span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu">cut3</span><span class="op">(</span><span class="va">disp</span><span class="op">)</span>, <span class="va">drat</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="aes-5.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/wch" class="external-link">Winston Chang</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>, Kohske Takahashi, <a href="https://clauswilke.com" class="external-link">Claus Wilke</a>, <a href="https://karawoo.com" class="external-link">Kara Woo</a>, <a href="https://yutani.rbind.io" class="external-link">Hiroaki Yutani</a>, <a href="https://fishandwhistle.net" class="external-link">Dewey Dunnington</a>, Teun van den Brand, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

